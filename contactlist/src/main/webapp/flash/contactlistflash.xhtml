<?xml version='1.0' encoding='UTF-8' ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="jakarta.faces.core"
    xmlns:h="jakarta.faces.html">
<h:head>
    <h:outputStylesheet name="css/stylesheet.css" />
    <title>Contacts</title>
</h:head>
<h:body>
    <h1>Contacts</h1>
    <h:dataTable var="contact" value="#{contactListFlash.contacts}"
        styleClass="contactlist" columnClasses="contactlist-column"
        footerClass="contactlist-footer"
        headerClass="contactlist-header"
        rowClasses="contactlist-row-even, contactlist-row-odd">
        <f:facet name="header">
            List of Contacts
        </f:facet>
        <h:column>
            <f:facet name="header">
                Id
            </f:facet>
            #{contact.id}
        </h:column>
        <h:column>
            <f:facet name="header">
                Email
            </f:facet>
            #{contact.email}
        </h:column>
        <h:column>
            <f:facet name="header">
                First name
            </f:facet>
            #{contact.firstName}
        </h:column>
        <h:column>
            <f:facet name="header">
                Last Name
            </f:facet>
             #{contact.lastName}
        </h:column>
        <h:column>
            <f:facet name="header">
                Action
            </f:facet>
            <!--  immediate="true" ??  -->
            <h:form>
                <h:commandLink id="action"
                    action="#{contactListFlash.addToFlash(contact)}">
                    <h:outputText value="View/Modify/Delete" />
                </h:commandLink>
            </h:form>
        </h:column>
    </h:dataTable>
    <p>
        <h:messages />
    </p>
    <hr />
    <h:form>
        <p>
            <h:commandButton value="Add contact"
                includeViewParams="true" action="contactadd.xhtml?faces-redirect=true">
            </h:commandButton>
        </p>
    </h:form>
</h:body>
</html>
